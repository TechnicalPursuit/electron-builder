{"version":3,"file":"webInstallerTest.js","sourceRoot":"","sources":["../../src/windows/webInstallerTest.ts"],"names":[],"mappings":";;AAAA,uDAAiD;AACjD,sDAA2C;AAE3C,0HAA0H;AAE1H,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,gBAAG,CAAC;IACnC,OAAO,EAAE,2BAAQ,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,EAAE,uBAAI,CAAC,GAAG,CAAC;IAC9D,MAAM,EAAE;QACN,OAAO,EAAE;YACP,QAAQ,EAAE,IAAI;YACd,MAAM,EAAE,SAAS;YACjB,IAAI,EAAE,MAAM;SACb;KACF;CACF,CAAC,CAAC,CAAA;AAEH,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,gCAAgC,EAAE,gBAAG,CAAC;IAC1D,OAAO,EAAE,2BAAQ,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,EAAE,uBAAI,CAAC,IAAI,EAAE,uBAAI,CAAC,GAAG,EAAE,uBAAI,CAAC,KAAK,CAAC;IACrF,MAAM,EAAE;QACN,OAAO,EAAE;YACP,QAAQ,EAAE,QAAQ;YAClB,0BAA0B;YAC1B,IAAI,EAAE,SAAS;SAChB;KACF;CACF,CAAC,CAAC,CAAA;AAEH,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,oCAAoC,EAAE,gBAAG,CAAC;IAC9D,OAAO,EAAE,2BAAQ,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,EAAE,uBAAI,CAAC,GAAG,CAAC;IAC9D,MAAM,EAAE;QACN,WAAW,EAAE,WAAW;QACxB,OAAO,EAAE;YACP,QAAQ,EAAE,QAAQ;YAClB,IAAI,EAAE,SAAS;SAChB;QACD,OAAO,EAAE;YACP,sDAAsD;YACtD,YAAY,EAAE,uBAAuB;SACtC;KACF;CACF,CAAC,CAAC,CAAA","sourcesContent":["import { Arch, Platform } from \"electron-builder\"\nimport { app } from \"../helpers/packTester\"\n\n// tests are heavy, to distribute tests across CircleCI machines evenly, these tests were moved from oneClickInstallerTest\n\ntest.ifNotCiMac(\"web installer\", app({\n  targets: Platform.WINDOWS.createTarget([\"nsis-web\"], Arch.x64),\n  config: {\n    publish: {\n      provider: \"s3\",\n      bucket: \"develar\",\n      path: \"test\",\n    },\n  }\n}))\n\ntest.ifAll.ifNotCiMac(\"web installer (default github)\", app({\n  targets: Platform.WINDOWS.createTarget([\"nsis-web\"], Arch.ia32, Arch.x64, Arch.arm64),\n  config: {\n    publish: {\n      provider: \"github\",\n      // test form without owner\n      repo: \"foo/bar\",\n    },\n  },\n}))\n\ntest.ifAll.ifNotCiMac(\"web installer, safe name on github\", app({\n  targets: Platform.WINDOWS.createTarget([\"nsis-web\"], Arch.x64),\n  config: {\n    productName: \"WorkFlowy\",\n    publish: {\n      provider: \"github\",\n      repo: \"foo/bar\",\n    },\n    nsisWeb: {\n      //tslint:disable-next-line:no-invalid-template-strings\n      artifactName: \"${productName}.${ext}\",\n    },\n  },\n}))\n"]}